"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[490],{347:(dt,A,r)=>{r.r(A),r.d(A,{AdminModule:()=>ct});var d=r(583),a=r(249),s=r(665),t=r(639),v=r(113);const y=function(){return["/admin","dashboard"]},P=function(){return["/admin","create"]};function w(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"nav",1),t.TgZ(1,"ul",2),t.TgZ(2,"li",3),t.TgZ(3,"a",4),t._uU(4,"UI"),t.qZA(),t.qZA(),t.TgZ(5,"li",5),t.TgZ(6,"a",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToAnotherPage(["/admin","dashboard"])}),t._uU(7,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),t.qZA(),t.qZA(),t.TgZ(8,"li",5),t.TgZ(9,"a",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToAnotherPage(["/admin","create"])}),t._uU(10,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),t.qZA(),t.qZA(),t.TgZ(11,"li",3),t.TgZ(12,"a",7),t.NdJ("click",function(u){return t.CHM(e),t.oxw().logout(u)}),t._uU(13,"\u0412\u044b\u0439\u0442\u0438"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&i&&(t.xp6(6),t.Q6J("routerLink",t.DdM(2,y)),t.xp6(3),t.Q6J("routerLink",t.DdM(3,P)))}let q=(()=>{class i{constructor(e,o){this.router=e,this.auth=o}ngOnInit(){}goToAnotherPage(e){this.router.navigate(e)}logout(e){e.preventDefault(),this.auth.logout(),this.router.navigate(["/admin","login"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.F0),t.Y36(v.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin-layout"]],decls:4,vars:1,consts:[["class","menu",4,"ngIf"],[1,"menu"],[1,"menu__list"],[1,"menu__item"],["routerLink","/"],["routerLinkActive","menu__item--active",1,"menu__item"],[3,"routerLink","click"],["href","#",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"admin-layout works!"),t.qZA(),t.YNc(2,w,14,4,"nav",0),t._UZ(3,"router-outlet")),2&e&&(t.xp6(2),t.Q6J("ngIf",o.auth.isAuthenticated()))},directives:[d.O5,a.lC,a.yS,a.Od],styles:[""]}),i})();function E(i,n){if(1&i&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&i){const e=n.ngIf;t.xp6(1),t.hij(" ",e," ")}}function N(i,n){if(1&i&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.messageFromQueryParams," ")}}function I(i,n){1&i&&(t.TgZ(0,"div",18),t._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"),t.qZA())}function O(i,n){1&i&&(t.TgZ(0,"div",18),t._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),t.qZA())}function U(i,n){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,I,2,0,"div",17),t.YNc(2,O,2,0,"div",17),t.qZA()),2&i){const e=t.oxw();let o,u;t.xp6(1),t.Q6J("ngIf",null==(o=e.loginForm.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(u=e.loginForm.get("email"))||null==u.errors?null:u.errors.email)}}function L(i,n){1&i&&(t.TgZ(0,"div",18),t._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA())}function D(i,n){if(1&i&&(t.TgZ(0,"div",18),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);let o;t.xp6(1),t.hij(" \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ",null==(o=e.loginForm.get("password"))||null==o.errors?null:o.errors.minlength.requiredLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 ")}}function M(i,n){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,L,2,0,"div",17),t.YNc(2,D,2,1,"div",17),t.qZA()),2&i){const e=t.oxw();let o,u;t.xp6(1),t.Q6J("ngIf",null==(o=e.loginForm.get("password"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(u=e.loginForm.get("password"))||null==u.errors?null:u.errors.minlength)}}const b=function(i){return{"inputControl--invalid":i}};let k=(()=>{class i{constructor(e,o,u){this.auth=e,this.router=o,this.route=u,this.submitted=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{e.loginFailed?this.messageFromQueryParams="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435":e.authFailed&&(this.messageFromQueryParams="\u0421\u0435\u0441\u0441\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u0430. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043d\u043e\u0432\u043e")}),this.loginForm=new s.cw({email:new s.NI(null,[s.kI.email,s.kI.required]),password:new s.NI(null,[s.kI.required,s.kI.minLength(6)])})}submit(){var e;(null===(e=this.loginForm)||void 0===e?void 0:e.valid)&&(this.submitted=!0,this.auth.login({email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe(()=>{this.submitted=!1,this.loginForm.reset(),this.router.navigate(["/admin","dashboard"])},()=>this.submitted=!1))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.e),t.Y36(a.F0),t.Y36(a.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-page"]],decls:22,vars:14,consts:[[1,"loginForm",3,"formGroup","ngSubmit"],[1,"loginForm__header"],["class","loginForm__message loginForm__message--error",4,"ngIf"],["class","loginForm__message",4,"ngIf"],[1,"loginForm__form"],[1,"loginForm__control"],[1,"inputControl",3,"ngClass"],["for","adminEmail",1,"inputControl__label"],["id","adminEmail","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email","formControlName","email","type","text",1,"inputControl__input"],["class","controlError",4,"ngIf"],["for","adminPassword",1,"inputControl__label"],["id","adminPassword","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password","type","password",1,"inputControl__input"],[1,"loginForm__btns"],["type","submit",1,"btn",3,"disabled"],[1,"loginForm__message","loginForm__message--error"],[1,"loginForm__message"],[1,"controlError"],["class","controlError__item",4,"ngIf"],[1,"controlError__item"]],template:function(e,o){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(1,"div",1),t._uU(2," \u0412\u043e\u0439\u0442\u0438 \u0432 \u043f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 "),t.qZA(),t.YNc(3,E,2,1,"div",2),t.ALo(4,"async"),t.YNc(5,N,2,1,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"label",7),t._uU(10,"Email:"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,U,3,2,"div",9),t.qZA(),t.qZA(),t.TgZ(13,"div",5),t.TgZ(14,"div",6),t.TgZ(15,"label",10),t._uU(16,"Password:"),t.qZA(),t._UZ(17,"input",11),t.YNc(18,M,3,2,"div",9),t.qZA(),t.qZA(),t.TgZ(19,"div",12),t.TgZ(20,"button",13),t._uU(21,"\u0412\u043e\u0439\u0442\u0438"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let u,l,m,f;t.Q6J("formGroup",o.loginForm),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,8,o.auth.error$)),t.xp6(2),t.Q6J("ngIf",o.messageFromQueryParams),t.xp6(3),t.Q6J("ngClass",t.VKq(10,b,(null==(u=o.loginForm.get("email"))?null:u.touched)&&(null==(u=o.loginForm.get("email"))?null:u.invalid))),t.xp6(4),t.Q6J("ngIf",(null==(l=o.loginForm.get("email"))?null:l.touched)&&(null==(l=o.loginForm.get("email"))?null:l.invalid)),t.xp6(2),t.Q6J("ngClass",t.VKq(12,b,(null==(m=o.loginForm.get("password"))?null:m.touched)&&(null==(m=o.loginForm.get("password"))?null:m.invalid))),t.xp6(4),t.Q6J("ngIf",(null==(f=o.loginForm.get("password"))?null:f.touched)&&(null==(f=o.loginForm.get("password"))?null:f.invalid)),t.xp6(2),t.Q6J("disabled",(null==o.loginForm?null:o.loginForm.invalid)||o.submitted)}},directives:[s._Y,s.JL,s.sg,d.O5,d.mk,s.Fj,s.JJ,s.u],pipes:[d.Ov],styles:[".loginForm[_ngcontent-%COMP%]{margin-top:30px;border:1px solid black;border-radius:6px;max-width:600px;padding:30px}.loginForm[_ngcontent-%COMP%]   .loginForm__header[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px}.loginForm[_ngcontent-%COMP%]   .loginForm__message[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px;background-color:gray;color:#fff;font-size:16px}.loginForm[_ngcontent-%COMP%]   .loginForm__message--error[_ngcontent-%COMP%]{background-color:brown}.loginForm[_ngcontent-%COMP%]   .loginForm__form[_ngcontent-%COMP%]   .loginForm__control[_ngcontent-%COMP%]{margin-bottom:20px}.loginForm[_ngcontent-%COMP%]   .loginForm__form[_ngcontent-%COMP%]   .loginForm__control[_ngcontent-%COMP%]:last-child{margin:0}.inputControl[_ngcontent-%COMP%]{display:flex;flex-direction:column}.inputControl[_ngcontent-%COMP%]   .inputControl__label[_ngcontent-%COMP%]{margin-bottom:10px}.inputControl--invalid[_ngcontent-%COMP%]{color:red}.inputControl--invalid[_ngcontent-%COMP%]   .inputControl__input[_ngcontent-%COMP%]{color:red}.controlError[_ngcontent-%COMP%]{color:red}"]}),i})();var J=r(319);class Y extends J.w{constructor(n,e){super()}schedule(n,e=0){return this}}let T=(()=>{class i{constructor(e,o=i.now){this.SchedulerAction=e,this.now=o}schedule(e,o=0,u){return new this.SchedulerAction(this,e).schedule(u,o)}}return i.now=()=>Date.now(),i})();class g extends T{constructor(n,e=T.now){super(n,()=>g.delegate&&g.delegate!==this?g.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,e=0,o){return g.delegate&&g.delegate!==this?g.delegate.schedule(n,e,o):super.schedule(n,e,o)}flush(n){const{actions:e}=this;if(this.active)return void e.push(n);let o;this.active=!0;do{if(o=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,o){for(;n=e.shift();)n.unsubscribe();throw o}}}const S=new g(class extends Y{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const o=this.id,u=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(u,o,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(u,this.id,e),this}requestAsyncId(n,e,o=0){return setInterval(n.flush.bind(n,this),o)}recycleAsyncId(n,e,o=0){if(null!==o&&this.delay===o&&!1===this.pending)return e;clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(n,e);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let u,o=!1;try{this.work(n)}catch(l){o=!0,u=!!l&&l||new Error(l)}if(o)return this.unsubscribe(),u}_unsubscribe(){const n=this.id,e=this.scheduler,o=e.actions,u=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==u&&o.splice(u,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null}});var B=r(393),x=r(193),K=r(917),z=r(205);class c{constructor(n,e,o){this.kind=n,this.value=e,this.error=o,this.hasValue="N"===n}observe(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}do(n,e,o){switch(this.kind){case"N":return n&&n(this.value);case"E":return e&&e(this.error);case"C":return o&&o()}}accept(n,e,o){return n&&"function"==typeof n.next?this.observe(n):this.do(n,e,o)}toObservable(){switch(this.kind){case"N":return(0,K.of)(this.value);case"E":return(0,z._)(this.error);case"C":return(0,x.c)()}throw new Error("unexpected notification kind value")}static createNext(n){return void 0!==n?new c("N",n):c.undefinedValueNotification}static createError(n){return new c("E",void 0,n)}static createComplete(){return c.completeNotification}}function Z(i,n=S){const o=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-n.now():Math.abs(i);return u=>u.lift(new G(o,n))}c.completeNotification=new c("C"),c.undefinedValueNotification=new c("N",void 0);class G{constructor(n,e){this.delay=n,this.scheduler=e}call(n,e){return e.subscribe(new C(n,this.delay,this.scheduler))}}class C extends B.L{constructor(n,e,o){super(n),this.delay=e,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const e=n.source,o=e.queue,u=n.scheduler,l=n.destination;for(;o.length>0&&o[0].time-u.now()<=0;)o.shift().notification.observe(l);if(o.length>0){const m=Math.max(0,o[0].time-u.now());this.schedule(n,m)}else this.unsubscribe(),e.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(C.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const e=this.scheduler,o=new $(e.now()+this.delay,n);this.queue.push(o),!1===this.active&&this._schedule(e)}_next(n){this.scheduleNotification(c.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(c.createComplete()),this.unsubscribe()}}class ${constructor(n,e){this.time=n,this.notification=e}}var F=r(2),p=r(340),H=r(841);let h=(()=>{class i{constructor(e){this.http=e}create(e){return this.http.post(`${p.N.fbDbUrl}/posts.json`,e)}getById(e){return this.http.get(`${p.N.fbDbUrl}/posts/${e}.json`).pipe(Z(2e3),(0,F.U)(o=>{if(o)return Object.assign(Object.assign({},o),{id:e,date:new Date(null==o?void 0:o.date)});throw new Error("Post not found")}))}remove(e){return this.http.delete(`${p.N.fbDbUrl}/posts/${e}.json`).pipe(Z(2e3))}getAll(){return this.http.get(`${p.N.fbDbUrl}/posts.json`).pipe(Z(1e3),(0,F.U)(e=>e?Object.keys(e).map(o=>Object.assign(Object.assign({},e[o]),{id:o,date:new Date(e[o].date)})):[]))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(H.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),R=(()=>{class i{constructor(e){this.postsService=e}ngOnInit(){}create(){const e={title:"\u041f\u043e\u0447\u0435\u043c\u0443 \u043e\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f?",text:'\n        \u0414\u0430\u0432\u043d\u043e \u0432\u044b\u044f\u0441\u043d\u0435\u043d\u043e, \u0447\u0442\u043e \u043f\u0440\u0438 \u043e\u0446\u0435\u043d\u043a\u0435 \u0434\u0438\u0437\u0430\u0439\u043d\u0430 \u0438 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0447\u0438\u0442\u0430\u0435\u043c\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u043c\u0435\u0448\u0430\u0435\u0442 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0438\u0442\u044c\u0441\u044f.\n        Lorem Ipsum \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u043f\u043e\u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0442\u043e\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0431\u043e\u043b\u0435\u0435 \u0438\u043b\u0438 \u043c\u0435\u043d\u0435\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430,\n        \u0430 \u0442\u0430\u043a\u0436\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u043a\u0432 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u0432 \u0430\u0431\u0437\u0430\u0446\u0430\u0445,\n        \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 "\u0417\u0434\u0435\u0441\u044c \u0432\u0430\u0448 \u0442\u0435\u043a\u0441\u0442.. \u0417\u0434\u0435\u0441\u044c \u0432\u0430\u0448 \u0442\u0435\u043a\u0441\u0442.. \u0417\u0434\u0435\u0441\u044c \u0432\u0430\u0448 \u0442\u0435\u043a\u0441\u0442.."\n        \u041c\u043d\u043e\u0433\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0451\u0440\u0441\u0442\u043a\u0438 \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u044b HTML \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 Lorem Ipsum \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0442\u0435\u043a\u0441\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e,\n        \u0442\u0430\u043a \u0447\u0442\u043e \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c "lorem ipsum" \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u043a\u0430\u043a \u043c\u043d\u043e\u0433\u043e \u0432\u0435\u0431-\u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0432\u0441\u0451 \u0435\u0449\u0451 \u0434\u043e\u0436\u0438\u0434\u0430\u044e\u0442\u0441\u044f\n        \u0441\u0432\u043e\u0435\u0433\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0433\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f. \u0417\u0430 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0433\u043e\u0434\u044b \u0442\u0435\u043a\u0441\u0442 Lorem Ipsum \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u043c\u043d\u043e\u0433\u043e \u0432\u0435\u0440\u0441\u0438\u0439. \u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438\n        \u043f\u043e\u044f\u0432\u0438\u043b\u0438\u0441\u044c \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435, \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 - \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u043d\u043e (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044e\u043c\u043e\u0440\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b).\n      ',author:"\u041f\u0435\u0442\u0440 \u0418\u0432\u0430\u043d\u043e\u0432",date:new Date};this.postsService.create(e).subscribe(()=>{console.log("\u0421\u043e\u0437\u0434\u0430\u043b\u0438 \u043f\u043e\u0441\u0442")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-page"]],decls:4,vars:0,consts:[["type","submit",1,"btn",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"create-page works!"),t.qZA(),t.TgZ(2,"button",0),t.NdJ("click",function(){return o.create()}),t._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"),t.qZA())},styles:[""]}),i})();const V=function(i){return["/admin","post",i,"edit"]};function X(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t.TgZ(11,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).loading=!0}),t._uU(12," \u041e\u0442\u043a\u0440\u044b\u0442\u044c "),t.qZA(),t.TgZ(13,"a",8),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(3).remove(l.id)}),t._uU(14,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=n.$implicit,o=n.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.author),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(t.xi3(9,5,e.date,"medium")),t.xp6(3),t.Q6J("routerLink",t.VKq(8,V,e.id))}}function W(i,n){if(1&i&&(t.TgZ(0,"div",4),t.TgZ(1,"div"),t._UZ(2,"input",5),t.qZA(),t.TgZ(3,"table"),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7,"#"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"\u0410\u0432\u0442\u043e\u0440"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"\u0414\u0430\u0442\u0430"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,X,15,10,"tr",6),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(17),t.Q6J("ngForOf",e.posts)}}function tt(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"),t.qZA())}function et(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,W,18,1,"div",2),t.YNc(2,tt,2,0,"ng-template",null,3,t.W1O),t.qZA()),2&i){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.posts.length)("ngIfElse",e)}}function nt(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1,"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),t.qZA())}let ot=(()=>{class i{constructor(e){this.postsService=e,this.posts=[],this.loading=!0}ngOnInit(){this.postsService.getAll().subscribe(e=>{this.posts=e,this.loading=!1})}remove(e){e&&(this.loading=!0,this.dSub=this.postsService.remove(e).subscribe(()=>{this.loading=!1,this.posts=this.posts.filter(o=>o.id!==e)}))}ngOnDestroy(){var e,o;null===(e=this.pSub)||void 0===e||e.unsubscribe(),null===(o=this.dSub)||void 0===o||o.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingTemplate",""],["style","margin-top: 30px;",4,"ngIf","ngIfElse"],["empty",""],[2,"margin-top","30px"],["type","text","placeholder","\u041d\u0430\u0439\u0442\u0438 \u043f\u043e\u0441\u0442..."],[4,"ngFor","ngForOf"],[1,"btn",3,"routerLink","click"],[3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,et,4,2,"div",0),t.YNc(1,nt,2,0,"ng-template",null,1,t.W1O)),2&e){const u=t.MAs(2);t.Q6J("ngIf",!o.loading)("ngIfElse",u)}},directives:[d.O5,d.sg,a.rH],pipes:[d.uU],styles:[""]}),i})();function it(i,n){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"edit-page works!"),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.hij("\u041f\u043e\u0441\u0442 ",e.post.id," \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d")}}function ut(i,n){1&i&&t._uU(0," \u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...\n")}let rt=(()=>{class i{constructor(e,o){this.route=e,this.postsServise=o}ngOnInit(){this.route.data.subscribe(e=>{this.post=e.data})}ngOnDestroy(){this.pSub&&this.pSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.gz),t.Y36(h))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""]],template:function(e,o){if(1&e&&(t.YNc(0,it,5,1,"div",0),t.YNc(1,ut,1,0,"ng-template",null,1,t.W1O)),2&e){const u=t.MAs(2);t.Q6J("ngIf",o.post)("ngIfElse",u)}},directives:[d.O5],styles:[""]}),i})();var st=r(466);let _=(()=>{class i{constructor(e,o){this.auth=e,this.router=o}canActivate(e,o){return!!this.auth.isAuthenticated()||(this.auth.logout(),this.router.navigate(["/admin","login"],{queryParams:{loginFailed:!0}}),!1)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(v.e),t.LFG(a.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var lt=r(304);let at=(()=>{class i{constructor(e,o){this.postsService=e,this.router=o}resolve(e,o){var u;return this.postsService.getById(null===(u=e.params)||void 0===u?void 0:u.id).pipe((0,lt.K)(()=>(console.log("catchError in PostResolver"),this.router.navigate(["/admin","dashboard"]),x.E)))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(h),t.LFG(a.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ct=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[_],imports:[[d.ez,s.u5,s.UX,st.m,a.Bz.forChild([{path:"",component:q,children:[{path:"",redirectTo:"/admin/login",pathMatch:"full"},{path:"login",component:k},{path:"dashboard",component:ot,canActivate:[_]},{path:"create",component:R,canActivate:[_]},{path:"post/:id/edit",component:rt,canActivate:[_],resolve:{data:at}}]}])],a.Bz]}),i})()}}]);