"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[363],{363:(N,_,l)=>{l.r(_),l.d(_,{AdminModule:()=>J});var s=l(583),a=l(663),i=l(665),n=l(639),d=l(113);const h=function(){return["/admin","dashboard"]},v=function(){return["/admin","create"]};function C(t,u){if(1&t){const o=n.EpF();n.TgZ(0,"nav",1),n.TgZ(1,"ul",2),n.TgZ(2,"li",3),n.TgZ(3,"a",4),n._uU(4,"UI"),n.qZA(),n.qZA(),n.TgZ(5,"li",5),n.TgZ(6,"a",6),n.NdJ("click",function(){return n.CHM(o),n.oxw().goToAnotherPage(["/admin","dashboard"])}),n._uU(7,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),n.qZA(),n.qZA(),n.TgZ(8,"li",5),n.TgZ(9,"a",6),n.NdJ("click",function(){return n.CHM(o),n.oxw().goToAnotherPage(["/admin","create"])}),n._uU(10,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),n.qZA(),n.qZA(),n.TgZ(11,"li",3),n.TgZ(12,"a",7),n.NdJ("click",function(r){return n.CHM(o),n.oxw().logout(r)}),n._uU(13,"\u0412\u044b\u0439\u0442\u0438"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}2&t&&(n.xp6(6),n.Q6J("routerLink",n.DdM(2,h)),n.xp6(3),n.Q6J("routerLink",n.DdM(3,v)))}let F=(()=>{class t{constructor(o,e){this.router=o,this.auth=e}ngOnInit(){}goToAnotherPage(o){this.router.navigate(o)}logout(o){o.preventDefault(),this.auth.logout(),this.router.navigate(["/admin","login"])}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(a.F0),n.Y36(d.e))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-admin-layout"]],decls:4,vars:1,consts:[["class","menu",4,"ngIf"],[1,"menu"],[1,"menu__list"],[1,"menu__item"],["routerLink","/"],["routerLinkActive","menu__item--active",1,"menu__item"],[3,"routerLink","click"],["href","#",3,"click"]],template:function(o,e){1&o&&(n.TgZ(0,"p"),n._uU(1,"admin-layout works!"),n.qZA(),n.YNc(2,C,14,4,"nav",0),n._UZ(3,"router-outlet")),2&o&&(n.xp6(2),n.Q6J("ngIf",e.auth.isAuthenticated()))},directives:[s.O5,a.lC,a.yS,a.Od],styles:[""]}),t})();function Z(t,u){if(1&t&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&t){const o=u.ngIf;n.xp6(1),n.hij(" ",o," ")}}function A(t,u){if(1&t&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.hij(" ",o.messageFromQueryParams," ")}}function P(t,u){1&t&&(n.TgZ(0,"div",18),n._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"),n.qZA())}function T(t,u){1&t&&(n.TgZ(0,"div",18),n._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),n.qZA())}function y(t,u){if(1&t&&(n.TgZ(0,"div",16),n.YNc(1,P,2,0,"div",17),n.YNc(2,T,2,0,"div",17),n.qZA()),2&t){const o=n.oxw();let e,r;n.xp6(1),n.Q6J("ngIf",null==(e=o.loginForm.get("email"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(r=o.loginForm.get("email"))||null==r.errors?null:r.errors.email)}}function b(t,u){1&t&&(n.TgZ(0,"div",18),n._uU(1,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),n.qZA())}function x(t,u){if(1&t&&(n.TgZ(0,"div",18),n._uU(1),n.qZA()),2&t){const o=n.oxw(2);let e;n.xp6(1),n.hij(" \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ",null==(e=o.loginForm.get("password"))||null==e.errors?null:e.errors.minlength.requiredLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 ")}}function L(t,u){if(1&t&&(n.TgZ(0,"div",16),n.YNc(1,b,2,0,"div",17),n.YNc(2,x,2,1,"div",17),n.qZA()),2&t){const o=n.oxw();let e,r;n.xp6(1),n.Q6J("ngIf",null==(e=o.loginForm.get("password"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(r=o.loginForm.get("password"))||null==r.errors?null:r.errors.minlength)}}const f=function(t){return{"inputControl--invalid":t}};let q=(()=>{class t{constructor(o,e,r){this.auth=o,this.router=e,this.route=r,this.submitted=!1}ngOnInit(){this.route.queryParams.subscribe(o=>{o.loginFailed?this.messageFromQueryParams="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435":o.authFailed&&(this.messageFromQueryParams="\u0421\u0435\u0441\u0441\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u0430. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043d\u043e\u0432\u043e")}),this.loginForm=new i.cw({email:new i.NI(null,[i.kI.email,i.kI.required]),password:new i.NI(null,[i.kI.required,i.kI.minLength(6)])})}submit(){var o;(null===(o=this.loginForm)||void 0===o?void 0:o.valid)&&(this.submitted=!0,this.auth.login({email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe(()=>{this.submitted=!1,this.loginForm.reset(),this.router.navigate(["/admin","dashboard"])},()=>this.submitted=!1))}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(d.e),n.Y36(a.F0),n.Y36(a.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login-page"]],decls:22,vars:14,consts:[[1,"loginForm",3,"formGroup","ngSubmit"],[1,"loginForm__header"],["class","loginForm__message loginForm__message--error",4,"ngIf"],["class","loginForm__message",4,"ngIf"],[1,"loginForm__form"],[1,"loginForm__control"],[1,"inputControl",3,"ngClass"],["for","adminEmail",1,"inputControl__label"],["id","adminEmail","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email","formControlName","email","type","text",1,"inputControl__input"],["class","controlError",4,"ngIf"],["for","adminPassword",1,"inputControl__label"],["id","adminPassword","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password","type","password",1,"inputControl__input"],[1,"loginForm__btns"],["type","submit",1,"btn",3,"disabled"],[1,"loginForm__message","loginForm__message--error"],[1,"loginForm__message"],[1,"controlError"],["class","controlError__item",4,"ngIf"],[1,"controlError__item"]],template:function(o,e){if(1&o&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return e.submit()}),n.TgZ(1,"div",1),n._uU(2," \u0412\u043e\u0439\u0442\u0438 \u0432 \u043f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 "),n.qZA(),n.YNc(3,Z,2,1,"div",2),n.ALo(4,"async"),n.YNc(5,A,2,1,"div",3),n.TgZ(6,"div",4),n.TgZ(7,"div",5),n.TgZ(8,"div",6),n.TgZ(9,"label",7),n._uU(10,"Email:"),n.qZA(),n._UZ(11,"input",8),n.YNc(12,y,3,2,"div",9),n.qZA(),n.qZA(),n.TgZ(13,"div",5),n.TgZ(14,"div",6),n.TgZ(15,"label",10),n._uU(16,"Password:"),n.qZA(),n._UZ(17,"input",11),n.YNc(18,L,3,2,"div",9),n.qZA(),n.qZA(),n.TgZ(19,"div",12),n.TgZ(20,"button",13),n._uU(21,"\u0412\u043e\u0439\u0442\u0438"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&o){let r,m,g,p;n.Q6J("formGroup",e.loginForm),n.xp6(3),n.Q6J("ngIf",n.lcZ(4,8,e.auth.error$)),n.xp6(2),n.Q6J("ngIf",e.messageFromQueryParams),n.xp6(3),n.Q6J("ngClass",n.VKq(10,f,(null==(r=e.loginForm.get("email"))?null:r.touched)&&(null==(r=e.loginForm.get("email"))?null:r.invalid))),n.xp6(4),n.Q6J("ngIf",(null==(m=e.loginForm.get("email"))?null:m.touched)&&(null==(m=e.loginForm.get("email"))?null:m.invalid)),n.xp6(2),n.Q6J("ngClass",n.VKq(12,f,(null==(g=e.loginForm.get("password"))?null:g.touched)&&(null==(g=e.loginForm.get("password"))?null:g.invalid))),n.xp6(4),n.Q6J("ngIf",(null==(p=e.loginForm.get("password"))?null:p.touched)&&(null==(p=e.loginForm.get("password"))?null:p.invalid)),n.xp6(2),n.Q6J("disabled",(null==e.loginForm?null:e.loginForm.invalid)||e.submitted)}},directives:[i._Y,i.JL,i.sg,s.O5,s.mk,i.Fj,i.JJ,i.u],pipes:[s.Ov],styles:[".loginForm[_ngcontent-%COMP%]{margin-top:30px;border:1px solid black;border-radius:6px;max-width:600px;padding:30px}.loginForm[_ngcontent-%COMP%]   .loginForm__header[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px}.loginForm[_ngcontent-%COMP%]   .loginForm__message[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px;background-color:gray;color:#fff;font-size:16px}.loginForm[_ngcontent-%COMP%]   .loginForm__message--error[_ngcontent-%COMP%]{background-color:brown}.loginForm[_ngcontent-%COMP%]   .loginForm__form[_ngcontent-%COMP%]   .loginForm__control[_ngcontent-%COMP%]{margin-bottom:20px}.loginForm[_ngcontent-%COMP%]   .loginForm__form[_ngcontent-%COMP%]   .loginForm__control[_ngcontent-%COMP%]:last-child{margin:0}.inputControl[_ngcontent-%COMP%]{display:flex;flex-direction:column}.inputControl[_ngcontent-%COMP%]   .inputControl__label[_ngcontent-%COMP%]{margin-bottom:10px}.inputControl--invalid[_ngcontent-%COMP%]{color:red}.inputControl--invalid[_ngcontent-%COMP%]   .inputControl__input[_ngcontent-%COMP%]{color:red}.controlError[_ngcontent-%COMP%]{color:red}"]}),t})();var w=l(340),M=l(841);let I=(()=>{class t{constructor(o){this.http=o}create(o){return this.http.post(`${w.N.fbDbUrl}/posts.json`,o)}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(M.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),O=(()=>{class t{constructor(o){this.postsService=o}ngOnInit(){}create(){const o={title:"\u041f\u043e\u0447\u0435\u043c\u0443 \u043e\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f?",text:'\n        \u0414\u0430\u0432\u043d\u043e \u0432\u044b\u044f\u0441\u043d\u0435\u043d\u043e, \u0447\u0442\u043e \u043f\u0440\u0438 \u043e\u0446\u0435\u043d\u043a\u0435 \u0434\u0438\u0437\u0430\u0439\u043d\u0430 \u0438 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0447\u0438\u0442\u0430\u0435\u043c\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u043c\u0435\u0448\u0430\u0435\u0442 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0438\u0442\u044c\u0441\u044f.\n        Lorem Ipsum \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u043f\u043e\u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0442\u043e\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0431\u043e\u043b\u0435\u0435 \u0438\u043b\u0438 \u043c\u0435\u043d\u0435\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430,\n        \u0430 \u0442\u0430\u043a\u0436\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u043a\u0432 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u0432 \u0430\u0431\u0437\u0430\u0446\u0430\u0445,\n        \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 "\u0417\u0434\u0435\u0441\u044c \u0432\u0430\u0448 \u0442\u0435\u043a\u0441\u0442.. \u0417\u0434\u0435\u0441\u044c \u0432\u0430\u0448 \u0442\u0435\u043a\u0441\u0442.. \u0417\u0434\u0435\u0441\u044c \u0432\u0430\u0448 \u0442\u0435\u043a\u0441\u0442.."\n        \u041c\u043d\u043e\u0433\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0451\u0440\u0441\u0442\u043a\u0438 \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u044b HTML \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 Lorem Ipsum \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0442\u0435\u043a\u0441\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e,\n        \u0442\u0430\u043a \u0447\u0442\u043e \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c "lorem ipsum" \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u043a\u0430\u043a \u043c\u043d\u043e\u0433\u043e \u0432\u0435\u0431-\u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0432\u0441\u0451 \u0435\u0449\u0451 \u0434\u043e\u0436\u0438\u0434\u0430\u044e\u0442\u0441\u044f\n        \u0441\u0432\u043e\u0435\u0433\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0433\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f. \u0417\u0430 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0433\u043e\u0434\u044b \u0442\u0435\u043a\u0441\u0442 Lorem Ipsum \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u043c\u043d\u043e\u0433\u043e \u0432\u0435\u0440\u0441\u0438\u0439. \u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438\n        \u043f\u043e\u044f\u0432\u0438\u043b\u0438\u0441\u044c \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435, \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 - \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u043d\u043e (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044e\u043c\u043e\u0440\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b).\n      ',author:"\u041f\u0435\u0442\u0440 \u0418\u0432\u0430\u043d\u043e\u0432",date:new Date};this.postsService.create(o).subscribe(()=>{console.log("\u0421\u043e\u0437\u0434\u0430\u043b\u0438 \u043f\u043e\u0441\u0442")})}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(I))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-create-page"]],decls:4,vars:0,consts:[["type","submit",1,"btn",3,"click"]],template:function(o,e){1&o&&(n.TgZ(0,"p"),n._uU(1,"create-page works!"),n.qZA(),n.TgZ(2,"button",0),n.NdJ("click",function(){return e.create()}),n._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"),n.qZA())},styles:[""]}),t})(),E=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dashboard-page"]],decls:2,vars:0,template:function(o,e){1&o&&(n.TgZ(0,"p"),n._uU(1,"dashboard-page works!"),n.qZA())},styles:[""]}),t})(),k=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-edit-page"]],decls:2,vars:0,template:function(o,e){1&o&&(n.TgZ(0,"p"),n._uU(1,"edit-page works!"),n.qZA())},styles:[""]}),t})();var U=l(466);let c=(()=>{class t{constructor(o,e){this.auth=o,this.router=e}canActivate(o,e){return!!this.auth.isAuthenticated()||(this.auth.logout(),this.router.navigate(["/admin","login"],{queryParams:{loginFailed:!0}}),!1)}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(d.e),n.LFG(a.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[c],imports:[[s.ez,i.u5,i.UX,U.m,a.Bz.forChild([{path:"",component:F,children:[{path:"",redirectTo:"/admin/login",pathMatch:"full"},{path:"login",component:q},{path:"dashboard",component:E,canActivate:[c]},{path:"create",component:O,canActivate:[c]},{path:"post/:id/edit",component:k,canActivate:[c]}]}])],a.Bz]}),t})()}}]);