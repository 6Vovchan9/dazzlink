import{$b as _,A as be,Ab as ee,B as Ie,C as Fe,D as we,E as je,F as Ce,N as Oe,O as xe,Q as h,R as v,S as a,T as c,U as E,V as Y,Y as R,_ as Te,_b as p,a as y,aa as Ae,b as S,ea as Me,f as F,fa as De,fb as X,g as M,ga as J,h as K,hb as $,i as D,j as ye,n as Ee,oa as ke,p as d,pa as W,q as Z,s as Q,t as k,u as ve,x as U,y as Re,yb as P,z as Se,zb as N}from"./chunk-DQKH7XQT.js";function te(e,t){let o=!t?.manualCleanup;o&&!t?.injector&&Ae(te);let r=o?t?.injector?.get(J)??E(J):null,n;t?.requireSync?n=W({kind:0}):n=W({kind:1,value:t?.initialValue});let i=e.subscribe({next:s=>n.set({kind:1,value:s}),error:s=>{if(t?.rejectErrors)throw s;n.set({kind:2,error:s})}});return r?.onDestroy(i.unsubscribe.bind(i)),$(()=>{let s=n();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new xe(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var ie={};function Ye(e,t){if(ie[e]=(ie[e]||0)+1,typeof t=="function")return re(e,(...r)=>S(y({},t(...r)),{type:e}));switch(t?t._as:"empty"){case"empty":return re(e,()=>({type:e}));case"props":return re(e,r=>S(y({},r),{type:e}));default:throw new Error("Unexpected config.")}}function tn(){return{_as:"props",_p:void 0}}function re(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var Je="@ngrx/store/init",j=(()=>{let t=class t extends D{constructor(){super({type:Je})}next(r){if(typeof r=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof r>"u")throw new TypeError("Actions must be objects");if(typeof r.type>"u")throw new TypeError("Actions must have a type property");super.next(r)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),wt=[j],We=new a("@ngrx/store Internal Root Guard"),Ue=new a("@ngrx/store Internal Initial State"),ue=new a("@ngrx/store Initial State"),Xe=new a("@ngrx/store Reducer Factory"),$e=new a("@ngrx/store Internal Reducer Factory Provider"),et=new a("@ngrx/store Initial Reducers"),ne=new a("@ngrx/store Internal Initial Reducers"),Pe=new a("@ngrx/store Store Features"),Ne=new a("@ngrx/store Internal Store Reducers"),oe=new a("@ngrx/store Internal Feature Reducers"),_e=new a("@ngrx/store Internal Feature Configs"),tt=new a("@ngrx/store Internal Store Features"),Ve=new a("@ngrx/store Internal Feature Reducers Token"),rt=new a("@ngrx/store Feature Reducers"),Le=new a("@ngrx/store User Provided Meta Reducers"),V=new a("@ngrx/store Meta Reducers"),ze=new a("@ngrx/store Internal Resolved Meta Reducers"),He=new a("@ngrx/store User Runtime Checks Config"),Be=new a("@ngrx/store Internal User Runtime Checks Config"),C=new a("@ngrx/store Internal Runtime Checks"),fe=new a("@ngrx/store Check if Action types are unique"),jt=new a("@ngrx/store Root Store Provider"),Ct=new a("@ngrx/store Feature State Provider");function le(e,t={}){let o=Object.keys(e),r={};for(let i=0;i<o.length;i++){let s=o[i];typeof e[s]=="function"&&(r[s]=e[s])}let n=Object.keys(r);return function(s,f){s=s===void 0?t:s;let l=!1,g={};for(let u=0;u<n.length;u++){let m=n[u],I=r[m],A=s[m],me=I(A,f);g[m]=me,l=l||me!==A}return l?g:s}}function Ot(e,t){return Object.keys(e).filter(o=>o!==t).reduce((o,r)=>Object.assign(o,{[r]:e[r]}),{})}function nt(...e){return function(t){if(e.length===0)return t;let o=e[e.length-1];return e.slice(0,-1).reduceRight((n,i)=>i(n),o(t))}}function ot(e,t){return Array.isArray(t)&&t.length>0&&(e=nt.apply(null,[...t,e])),(o,r)=>{let n=e(o);return(i,s)=>(i=i===void 0?r:i,n(i,s))}}function xt(e){let t=Array.isArray(e)&&e.length>0?nt(...e):o=>o;return(o,r)=>(o=t(o),(n,i)=>(n=n===void 0?r:n,o(n,i)))}var O=class extends F{},L=class extends j{},Tt="@ngrx/store/update-reducers",z=(()=>{let t=class t extends D{get currentReducers(){return this.reducers}constructor(r,n,i,s){super(s(i,n)),this.dispatcher=r,this.initialState=n,this.reducers=i,this.reducerFactory=s}addFeature(r){this.addFeatures([r])}addFeatures(r){let n=r.reduce((i,{reducers:s,reducerFactory:f,metaReducers:l,initialState:g,key:u})=>{let m=typeof s=="function"?xt(l)(s,g):ot(f,l)(s,g);return i[u]=m,i},{});this.addReducers(n)}removeFeature(r){this.removeFeatures([r])}removeFeatures(r){this.removeReducers(r.map(n=>n.key))}addReducer(r,n){this.addReducers({[r]:n})}addReducers(r){this.reducers=y(y({},this.reducers),r),this.updateReducers(Object.keys(r))}removeReducer(r){this.removeReducers([r])}removeReducers(r){r.forEach(n=>{this.reducers=Ot(this.reducers,n)}),this.updateReducers(r)}updateReducers(r){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Tt,features:r})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(n){return new(n||t)(c(L),c(ue),c(et),c(Xe))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),At=[z,{provide:O,useExisting:z},{provide:L,useExisting:j}],x=(()=>{let t=class t extends M{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=Me(t)))(i||t)}})(),t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),Mt=[x],H=class extends F{},Ge=(()=>{let t=class t extends D{constructor(r,n,i,s){super(s);let l=r.pipe(Ee(ye)).pipe(Oe(n)),g={state:s},u=l.pipe(je(Dt,g));this.stateSubscription=u.subscribe(({state:m,action:I})=>{this.next(m),i.next(I)}),this.state=te(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=Je,t.\u0275fac=function(n){return new(n||t)(c(j),c(O),c(x),c(ue))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})();function Dt(e={state:void 0},[t,o]){let{state:r}=e;return{state:o(r,t),action:t}}var kt=[Ge,{provide:H,useExisting:Ge}],b=(()=>{let t=class t extends F{constructor(r,n,i){super(),this.actionsObserver=n,this.reducerManager=i,this.source=r,this.state=r.state}select(r,...n){return $t.call(null,r,...n)(this)}selectSignal(r,n){return $(()=>r(this.state()),n)}lift(r){let n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=r,n}dispatch(r){this.actionsObserver.next(r)}next(r){this.actionsObserver.next(r)}error(r){this.actionsObserver.error(r)}complete(){this.actionsObserver.complete()}addReducer(r,n){this.reducerManager.addReducer(r,n)}removeReducer(r){this.reducerManager.removeReducer(r)}};t.\u0275fac=function(n){return new(n||t)(c(H),c(j),c(z))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),Ut=[b];function $t(e,t,...o){return function(n){let i;if(typeof e=="string"){let s=[t,...o].filter(Boolean);i=n.pipe(Ce(e,...s))}else if(typeof e=="function")i=n.pipe(d(s=>e(s,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return i.pipe(Se())}}var de="https://ngrx.io/guide/store/configuration/runtime-checks";function qe(e){return e===void 0}function Ke(e){return e===null}function it(e){return Array.isArray(e)}function Pt(e){return typeof e=="string"}function Nt(e){return typeof e=="boolean"}function _t(e){return typeof e=="number"}function st(e){return typeof e=="object"&&e!==null}function Vt(e){return st(e)&&!it(e)}function Lt(e){if(!Vt(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function se(e){return typeof e=="function"}function zt(e){return se(e)&&e.hasOwnProperty("\u0275cmp")}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Bt=!1;function Gt(){return Bt}function Ze(e,t){return e===t}function qt(e,t,o){for(let r=0;r<e.length;r++)if(!o(e[r],t[r]))return!0;return!1}function ct(e,t=Ze,o=Ze){let r=null,n=null,i;function s(){r=null,n=null}function f(u=void 0){i={result:u}}function l(){i=void 0}function g(){if(i!==void 0)return i.result;if(!r)return n=e.apply(null,arguments),r=arguments,n;if(!qt(arguments,r,t))return n;let u=e.apply(null,arguments);return r=arguments,o(n,u)?n:(n=u,u)}return{memoized:g,reset:s,setResult:f,clearResult:l}}function Kt(...e){return Qt(ct)(...e)}function Zt(e,t,o,r){if(o===void 0){let i=t.map(s=>s(e));return r.memoized.apply(null,i)}let n=t.map(i=>i(e,o));return r.memoized.apply(null,[...n,o])}function Qt(e,t={stateFn:Zt}){return function(...o){let r=o;if(Array.isArray(r[0])){let[u,...m]=r;r=[...u,...m]}else r.length===1&&Yt(r[0])&&(r=Jt(r[0]));let n=r.slice(0,r.length-1),i=r[r.length-1],s=n.filter(u=>u.release&&typeof u.release=="function"),f=e(function(...u){return i.apply(null,u)}),l=ct(function(u,m){return t.stateFn.apply(null,[u,n,m,f])});function g(){l.reset(),f.reset(),s.forEach(u=>u.release())}return Object.assign(l.memoized,{release:g,projector:f.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function rn(e){return Kt(t=>{let o=t[e];return!Gt()&&X()&&!(e in t)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),o},t=>t)}function Yt(e){return!!e&&typeof e=="object"&&Object.values(e).every(t=>typeof t=="function")}function Jt(e){let t=Object.values(e),o=Object.keys(e),r=(...n)=>o.reduce((i,s,f)=>S(y({},i),{[s]:n[f]}),{});return[...t,r]}function Wt(e){return e instanceof a?E(e):e}function Xt(e,t){return t.map((o,r)=>{if(e[r]instanceof a){let n=E(e[r]);return{key:o.key,reducerFactory:n.reducerFactory?n.reducerFactory:le,metaReducers:n.metaReducers?n.metaReducers:[],initialState:n.initialState}}return o})}function er(e){return e.map(t=>t instanceof a?E(t):t)}function at(e){return typeof e=="function"?e():e}function tr(e,t){return e.concat(t)}function rr(){if(E(b,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function nr(e,t){return function(o,r){let n=t.action(r)?ce(r):r,i=e(o,n);return t.state()?ce(i):i}}function ce(e){Object.freeze(e);let t=se(e);return Object.getOwnPropertyNames(e).forEach(o=>{if(!o.startsWith("\u0275")&&Ht(e,o)&&(!t||o!=="caller"&&o!=="callee"&&o!=="arguments")){let r=e[o];(st(r)||se(r))&&!Object.isFrozen(r)&&ce(r)}}),e}function or(e,t){return function(o,r){if(t.action(r)){let i=ae(r);Qe(i,"action")}let n=e(o,r);if(t.state()){let i=ae(n);Qe(i,"state")}return n}}function ae(e,t=[]){return(qe(e)||Ke(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((r,n)=>{if(r)return r;let i=e[n];return zt(i)?r:qe(i)||Ke(i)||_t(i)||Nt(i)||Pt(i)||it(i)?!1:Lt(i)?ae(i,[...t,n]):{path:[...t,n],value:i}},!1)}function Qe(e,t){if(e===!1)return;let o=e.path.join("."),r=new Error(`Detected unserializable ${t} at "${o}". ${de}#strict${t}serializability`);throw r.value=e.value,r.unserializablePath=o,r}function ir(e,t){return function(o,r){if(t.action(r)&&!ke.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${de}#strictactionwithinngzone`);return e(o,r)}}function sr(e){return X()?y({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function cr({strictActionSerializability:e,strictStateSerializability:t}){return o=>e||t?or(o,{action:r=>e&&!pe(r),state:()=>t}):o}function ar({strictActionImmutability:e,strictStateImmutability:t}){return o=>e||t?nr(o,{action:r=>e&&!pe(r),state:()=>t}):o}function pe(e){return e.type.startsWith("@ngrx")}function ur({strictActionWithinNgZone:e}){return t=>e?ir(t,{action:o=>e&&!pe(o)}):t}function fr(e){return[{provide:Be,useValue:e},{provide:He,useFactory:lr,deps:[Be]},{provide:C,deps:[He],useFactory:sr},{provide:V,multi:!0,deps:[C],useFactory:ar},{provide:V,multi:!0,deps:[C],useFactory:cr},{provide:V,multi:!0,deps:[C],useFactory:ur}]}function ut(){return[{provide:fe,multi:!0,deps:[C],useFactory:dr}]}function lr(e){return e}function dr(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(ie).filter(([,o])=>o>1).map(([o])=>o);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(o=>`"${o}"`).join(", ")}. ${de}#strictactiontypeuniqueness`)}function pr(e={},t={}){return[{provide:We,useFactory:rr},{provide:Ue,useValue:t.initialState},{provide:ue,useFactory:at,deps:[Ue]},{provide:ne,useValue:e},{provide:Ne,useExisting:e instanceof a?e:ne},{provide:et,deps:[ne,[new Y(Ne)]],useFactory:Wt},{provide:Le,useValue:t.metaReducers?t.metaReducers:[]},{provide:ze,deps:[V,Le],useFactory:tr},{provide:$e,useValue:t.reducerFactory?t.reducerFactory:le},{provide:Xe,deps:[$e,ze],useFactory:ot},wt,At,Mt,kt,Ut,fr(t.runtimeChecks),ut()]}function gr(e,t,o={}){return[{provide:_e,multi:!0,useValue:e instanceof Object?{}:o},{provide:Pe,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(o instanceof a)&&o.reducerFactory?o.reducerFactory:le,metaReducers:!(o instanceof a)&&o.metaReducers?o.metaReducers:[],initialState:!(o instanceof a)&&o.initialState?o.initialState:void 0}},{provide:tt,deps:[_e,Pe],useFactory:Xt},{provide:oe,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:Ve,multi:!0,useExisting:t instanceof a?t:oe},{provide:rt,multi:!0,deps:[oe,[new Y(Ve)]],useFactory:er},ut()]}var T=(()=>{let t=class t{constructor(r,n,i,s,f,l){}};t.\u0275fac=function(n){return new(n||t)(c(j),c(O),c(x),c(b),c(We,8),c(fe,8))},t.\u0275mod=R({type:t}),t.\u0275inj=v({});let e=t;return e})(),B=(()=>{let t=class t{constructor(r,n,i,s,f){this.features=r,this.featureReducers=n,this.reducerManager=i;let l=r.map((g,u)=>{let I=n.shift()[u];return S(y({},g),{reducers:I,initialState:at(g.initialState)})});i.addFeatures(l)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};t.\u0275fac=function(n){return new(n||t)(c(tt),c(rt),c(z),c(T),c(fe,8))},t.\u0275mod=R({type:t}),t.\u0275inj=v({});let e=t;return e})(),nn=(()=>{let t=class t{static forRoot(r,n){return{ngModule:T,providers:[...pr(r,n)]}}static forFeature(r,n,i={}){return{ngModule:B,providers:[...gr(r,n,i)]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=R({type:t}),t.\u0275inj=v({});let e=t;return e})();function on(...e){let t=e.pop(),o=e.map(r=>r.type);return{reducer:t,types:o}}function sn(e,...t){let o=new Map;for(let r of t)for(let n of r.types){let i=o.get(n);if(i){let s=(f,l)=>r.reducer(i(f,l),l);o.set(n,s)}else o.set(n,r.reducer)}return function(r=e,n){let i=o.get(n.type);return i?i(r,n):r}}var mr={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},q="__@ngrx/effects_create__";function vn(e,t={}){let o=t.functional?e:e(),r=y(y({},mr),t);return Object.defineProperty(o,q,{value:r}),o}function yr(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(q)?e[r][q].hasOwnProperty("dispatch"):!1).map(r=>{let n=e[r][q];return y({propertyName:r},n)})}function Er(e){return yr(e)}function pt(e){return Object.getPrototypeOf(e)}function vr(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function gt(e){return typeof e=="function"}function ft(e){return e.filter(gt)}function Rr(e){return e instanceof a||gt(e)}function Sr(e,t,o){let r=pt(e),i=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=Er(e).map(({propertyName:f,dispatch:l,useEffectsErrorHandler:g})=>{let u=typeof e[f]=="function"?e[f]():e[f],m=g?o(u,t):u;return l===!1?m.pipe(Fe()):m.pipe(we()).pipe(d(A=>({effect:e[f],notification:A,propertyName:f,sourceName:i,sourceInstance:e})))});return Q(...s)}var br=10;function ht(e,t,o=br){return e.pipe(ve(r=>(t&&t.handleError(r),o<=1?e:ht(e,t,o-1))))}var Rn=(()=>{let t=class t extends F{constructor(r){super(),r&&(this.source=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}};t.\u0275fac=function(n){return new(n||t)(c(x))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Sn(...e){return k(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var mt=new a("@ngrx/effects Internal Root Guard"),G=new a("@ngrx/effects User Provided Effects"),ge=new a("@ngrx/effects Internal Root Effects"),yt=new a("@ngrx/effects Internal Root Effects Instances"),lt=new a("@ngrx/effects Internal Feature Effects"),Et=new a("@ngrx/effects Internal Feature Effects Instance Groups"),Ir=new a("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ht}),vt="@ngrx/effects/init",bn=Ye(vt);function Fr(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!wr(o)&&t.handleError(new Error(`Effect ${jr(e)} dispatched an invalid action: ${Cr(o)}`))}}function wr(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function jr({propertyName:e,sourceInstance:t,sourceName:o}){let r=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function Cr(e){try{return JSON.stringify(e)}catch{return e}}var Or="ngrxOnIdentifyEffects";function xr(e){return he(e,Or)}var Tr="ngrxOnRunEffects";function Ar(e){return he(e,Tr)}var Mr="ngrxOnInitEffects";function Dr(e){return he(e,Mr)}function he(e,t){return e&&t in e&&typeof e[t]=="function"}var Rt=(()=>{let t=class t extends M{constructor(r,n){super(),this.errorHandler=r,this.effectsErrorHandler=n}addEffects(r){this.next(r)}toActions(){return this.pipe(K(r=>vr(r)?pt(r):r),Z(r=>r.pipe(K(kr))),Z(r=>{let n=r.pipe(Ie(s=>Ur(this.errorHandler,this.effectsErrorHandler)(s)),d(s=>(Fr(s,this.errorHandler),s.notification)),k(s=>s.kind==="N"&&s.value!=null),Re()),i=r.pipe(be(1),k(Dr),d(s=>s.ngrxOnInitEffects()));return Q(n,i)}))}};t.\u0275fac=function(n){return new(n||t)(c(De),c(Ir))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function kr(e){return xr(e)?e.ngrxOnIdentifyEffects():""}function Ur(e,t){return o=>{let r=Sr(o,e,t);return Ar(o)?o.ngrxOnRunEffects(r):r}}var St=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(r,n){this.effectSources=r,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(c(Rt),c(b))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),bt=(()=>{let t=class t{constructor(r,n,i,s,f,l,g){this.sources=r,n.start();for(let u of s)r.addEffects(u);i.dispatch({type:vt})}addEffects(r){this.sources.addEffects(r)}};t.\u0275fac=function(n){return new(n||t)(c(Rt),c(St),c(b),c(yt),c(T,8),c(B,8),c(mt,8))},t.\u0275mod=R({type:t}),t.\u0275inj=v({});let e=t;return e})(),$r=(()=>{let t=class t{constructor(r,n,i,s){let f=n.flat();for(let l of f)r.addEffects(l)}};t.\u0275fac=function(n){return new(n||t)(c(bt),c(Et),c(T,8),c(B,8))},t.\u0275mod=R({type:t}),t.\u0275inj=v({});let e=t;return e})(),In=(()=>{let t=class t{static forFeature(...r){let n=r.flat(),i=ft(n);return{ngModule:$r,providers:[i,{provide:lt,multi:!0,useValue:n},{provide:G,multi:!0,useValue:[]},{provide:Et,multi:!0,useFactory:dt,deps:[lt,G]}]}}static forRoot(...r){let n=r.flat(),i=ft(n);return{ngModule:bt,providers:[i,{provide:ge,useValue:[n]},{provide:mt,useFactory:Pr},{provide:G,multi:!0,useValue:[]},{provide:yt,useFactory:dt,deps:[ge,G]}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=R({type:t}),t.\u0275inj=v({});let e=t;return e})();function dt(e,t){let o=[];for(let r of e)o.push(...r);for(let r of t)o.push(...r);return o.map(r=>Rr(r)?E(r):r)}function Pr(){let e=E(St,{optional:!0,skipSelf:!0}),t=E(ge,{self:!0});if(!(t.length===1&&t[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var jn=(()=>{let t=class t{set(r,n){try{localStorage.setItem(r,JSON.stringify(n))}catch(i){console.error("Error saving to localStorage",i)}}get(r){try{return JSON.parse(localStorage.getItem(r))}catch(n){return console.error("Error getting data from localStorage",n),null}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})();var On=(()=>{let t=class t{transform(r,n){return n.trim()?r.filter(i=>i.title.toLowerCase().includes(n.toLowerCase())):r}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=Te({name:"search",type:t,pure:!0});let e=t;return e})();var _n=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=R({type:t}),t.\u0275inj=v({imports:[ee,ee]});let e=t;return e})();var Bn=(()=>{let t=class t{constructor(r,n){this.http=r,this.pagesService=n}create(r){return this.http.post(`${p.fbDbUrl}/posts.json`,r)}getById(r){return this.http.get(`${p.fbDbUrl}/posts/${r}.json`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue()}}).pipe(U(2e3),d(n=>{if(n)return S(y({},n),{id:r,published:new Date(n?.published)});throw new Error("Post not found")}))}getByIdRovragge(r){return this.http.get(`${p.rovraggeUrl}/publication/${r}`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()}}).pipe(d(n=>n.data))}getPost(r){return this.http.get(`${p.articleUrl}/publication/${r}`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()}}).pipe(d(n=>n.data))}setArticleEvaluation(r){return this.http.patch(`${p.rovraggeUrl}/publication/${r}/read`,null)}setArticleEvaluationProd(r){return this.http.patch(`${p.articleUrl}/publication/${r}/read`,null)}setArticleVoting(r,n){return this.http.patch(`${p.rovraggeUrl}/publication/${r}/${n}`,null).pipe(d(i=>i.data))}setArticleVotingProd(r,n){return this.http.patch(`${p.articleUrl}/publication/${r}/${n}`,null).pipe(d(i=>i.data))}remove(r){return this.http.delete(`${p.fbDbUrl}/posts/${r}.json`).pipe(U(2e3))}getAll(){let r={headers:new P({"x-accept-language":this.pagesService.currentLanguage.getValue()||"RU"})};return this.http.get(`${p.fbDbUrl}/posts.json`,{headers:{"x-accept-language":this.pagesService.currentLanguage.getValue()}}).pipe(U(2e3),d(n=>n?Object.keys(n).map(i=>S(y({},n[i]),{id:i,published:new Date(n[i].published)})):[]))}getAllRovragge(){return this.http.get(`${p.rovraggeUrl}/publication`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()}}).pipe(d(r=>r.data))}getAllProd(r){let n={};return r?.id&&(n=r),this.http.get(`${p.articleUrl}/publication`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()},params:n}).pipe(d(i=>i.data))}};t.\u0275fac=function(n){return new(n||t)(c(N),c(_))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Yn=(()=>{let t=class t{constructor(r,n){this.http=r,this.pagesService=n}getAllLocations(r,n,i="RESTAURANTS"){let s={headers:new P({"x-accept-language":this.pagesService.currentLanguage.getValue()||"ru"})},f={categoryCode:i};return r&&(f.sort=r),n&&(f.cityCode=n),this.http.get(`${p.placeUrl}/place`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase(),"x-source-channel":"dazzlink-web"},params:f}).pipe(d(l=>l.data))}getById(r){return this.http.get(`${p.placeUrl}/place/id/${r}`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()}}).pipe(d(n=>n.data))}getByPageName(r){return this.http.get(`${p.placeUrl}/place/page-name/${r}`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()}}).pipe(d(n=>n.data))}getCategoryOptions(){return this.http.get(`${p.placeUrl}/place/category`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase(),"x-source-channel":"dazzlink-web"}}).pipe(d(r=>r.data))}getFilterOptions(r="RESTAURANTS"){let n={categoryCode:r};return this.http.get(`${p.placeUrl}/place/filter/city`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()},params:n}).pipe(d(i=>i.data))}getSortOptions(r="RESTAURANTS"){let n={categoryCode:r};return this.http.get(`${p.placeUrl}/place/sort`,{headers:{"accept-language":this.pagesService.currentLanguage.getValue().toLowerCase()},params:n}).pipe(d(i=>i.data))}setPlaceVotingProd(r,n){return this.http.patch(`${p.placeUrl}/place/${r}/${n}`,null).pipe(d(i=>i.data))}create(r){return this.http.post(`${p.fbDbUrl}/locations.json`,r)}};t.\u0275fac=function(n){return new(n||t)(c(N),c(_))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();export{te as a,Ye as b,tn as c,Je as d,j as e,ue as f,O as g,L as h,Tt as i,x as j,H as k,Kt as l,rn as m,nn as n,on as o,sn as p,vn as q,Rn as r,Sn as s,In as t,jn as u,Bn as v,Yn as w,On as x,_n as y};
